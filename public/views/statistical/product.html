<!-- BEGIN PAGE HEADER-->
<div class="page-bar">
</div>
<div class="row" ng-controller="StaProductController" ng-init="vm.before_init()">
    <div class="col-md-12">
        <div class="portlet light portlet-fit">
            <div class="portlet-title">
                <div class="caption">
                    <span class="caption-subject sbold uppercase">产品统计列表</span>
                </div>
            </div>
            <div class="portlet-body">
                <div class="search-form">
                    <select class="input-small form-control search-query form-control-static" data-placeholder="请选择类型" ng-model="vm.searchData.type">
                        <option value="into" selected>入库记录</option>
                        <option value="shipment">出库记录</option>
                    </select>
                    <input type="text" name="start_time" class="input-small form-control form-control-static into_date_modal" 
                        readonly placeholder="开始时间" ng-model="vm.searchData.start_at"/>
                    <input type="text" name="end_time" class="input-small form-control form-control-static into_date_modal" 
                        readonly placeholder="结束时间" ng-model="vm.searchData.end_at"/>
                    <input type="text" class="input-medium form-control search-query form-control-static" placeholder="产品名称" ng-model="vm.searchData.name">
                    <input type="text" class="input-medium form-control search-query form-control-static" placeholder="产品编号" ng-model="vm.searchData.number">
                    <input type="text" class="input-medium form-control search-query form-control-static" placeholder="产品产地" ng-model="vm.searchData.firm">
                    <select class="input-small form-control search-query form-control-static list-select2" data-placeholder="请选择分类" ng-model="vm.searchData.sort_id">
                        <option value=""></option>
                        <option ng-repeat="sortChild in vm.sortSelectLists" value="{{sortChild.id}}">{{sortChild.name}}</option>
                    </select>
                    <button id="sample_editable_1_new" class="btn green" style="margin-bottom:4px" ng-click="vm.handleSearch()">搜索
                        <i class="fa fa-search"></i>
                    </button>
                    <button id="sample_editable_1_new" class="btn grey-mint" style="margin-bottom:4px" ng-click="vm.resetSearch()">重置
                        <i class="fa fa-recycle"></i>
                    </button>
                </div>
                <div id="sample_editable_1_wrapper" class="dataTables_wrapper no-footer">
                    <div class="table-scrollable">
                        <table class="table table-striped table-hover table-bordered dataTable no-footer" id="sample_editable_1" role="grid" aria-describedby="sample_editable_1_info">
                            <thead>
                                <tr>
                                    <th>产品编号</th>
                                    <th>产品名称</th>
                                    <th>产品规格</th>
                                    <th>产品产地</th>
                                    <th>产品分类</th>
                                    <th ng-if="vm.searchData.type == 'into'">入库数量</th>
                                    <th ng-if="vm.searchData.type == 'into'">入库总金额</th>
                                    <th ng-if="vm.searchData.type == 'shipment'">出库数量</th>
                                    <th ng-if="vm.searchData.type == 'shipment'">出库总金额</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="product in vm.listsData">
                                    <td>{{product.number}}</td>
                                    <td>{{product.name}}</td>
                                    <td>{{product.standard}}</td>
                                    <td>{{product.firm}}</td>
                                    <td>{{product.sort}}</td>
                                    <td>{{product.total_amount}}</td>
                                    <td>{{product.total_price}}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <!-- 分页 -->
                    <jxcPage/>
                </div>
            </div>
        </div>
    </div>
</div>
