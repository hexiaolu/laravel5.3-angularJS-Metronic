<!-- BEGIN PAGE HEADER-->
<div class="page-bar">
</div>
<div class="row" ng-controller="goodsController" ng-init="vm.before_init()">
	<div class="col-md-12">
        <div class="portlet light portlet-fit">
            <div class="portlet-title">
                <div class="caption">
                    <span class="caption-subject sbold uppercase">产品列表</span>
                </div>
            </div>
            <div class="portlet-body">
                <div class="search-form">
                	<input type="text" ng-keyup="vm.searchKeyUp($event)" name="user_id" value="" class="input-medium form-control search-query form-control-static " placeholder="产品编号" ng-model="vm.searchData.number">
                	<input type="text" ng-keyup="vm.searchKeyUp($event)" name="user_id" value="" class="input-medium form-control search-query form-control-static " placeholder="产品名称" ng-model="vm.searchData.name">
                    <input type="text" ng-keyup="vm.searchKeyUp($event)" name="firm" value="" class="input-medium form-control search-query form-control-static " placeholder="产品产地" ng-model="vm.searchData.firm">
                    <select class="input-medium search-query form-control-static list-select2" data-placeholder="请选择分类" ng-model="vm.searchData.sort_id" style="width:250px">
                        <option value=""></option>
                        <option ng-repeat="sortChild in vm.sortSelectLists" value="{{sortChild.id}}">{{sortChild.name}}</option>
                    </select>
                    <button id="sample_editable_1_new" class="btn green" style="margin-bottom:4px" ng-click="vm.handleSearch()">搜索
                        <i class="fa fa-search"></i>
                    </button>
                    <button id="sample_editable_1_new" class="btn grey-mint" style="margin-bottom:4px" ng-click="vm.resetSearch()">重置
                        <i class="fa fa-recycle"></i>
                    </button>
                    <button id="sample_editable_1_new" class="btn btn-danger" style="margin-bottom:4px" ng-click="vm.addProductModal()">添加产品
                        <i class="fa fa-plus"></i>
                    </button>
                </div>
                <div id="sample_editable_1_wrapper" class="dataTables_wrapper no-footer">
                	<div class="table-scrollable">
	                	<table class="table table-striped table-hover table-bordered dataTable no-footer" id="sample_editable_1" role="grid" aria-describedby="sample_editable_1_info">
		                    <thead>
		                        <tr>
                                    <th>产品编号</th>
			                        <th>产品名称</th>
                                    <th>产品规格</th>
                                    <th ng-show="jxc_configs.show_cost">成本价</th>
			                        <th>单位</th>
                                    <th>产地</th>
			                        <th>分类</th>
			                        <th>剩余库存</th>
			                        <th>操作</th>
			                    </tr>
		                    </thead>
		                    <tbody>
			                    <tr ng-repeat="product in vm.listsData">
                                    <td>{{product.number}}</td>
                                    <td>{{product.name}}</td>
                                    <td>{{product.standard}}</td>
                                    <td ng-show="jxc_configs.show_cost">{{product.price}}</td>
                                    <td>{{product.p_unit}}</td>
                                    <td>{{product.firm}}</td>
                                    <td>{{product.sort_text}}</td>
                                    <td>{{product.stock}}</td>
		                            <td>
                                        <a class="edit" href="javascript:;" ng-click="vm.editProduct(product)">编辑</a>
                                        {{product.status == 'enable' ? '' : '/'}}
                                        <a class="edit" href="javascript:;" ng-if="product.status=='disable'" ng-click="vm.handleProduct(product)">上架</a>
                                        / <a class="edit" href="javascript:;" ng-click="vm.deleteModal(product.id)">删除</a>
		                            </td>
		                        </tr>
	                       	</tbody>
	                	</table>
                	</div>
                    <!-- 分页 -->
                    <jxcPage/>
                </div>
            </div>
        </div>
    </div>
    <div data-ng-include="'views/product/modal/goods_update_modal.html'"></div>
    <div data-ng-include="'tpl/delete.html'"></div>
    <div data-ng-include="'tpl/message.html'"></div>
</div>
